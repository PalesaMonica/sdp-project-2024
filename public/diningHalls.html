<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Campus Crave</title>
    <link rel="stylesheet" href="css/diningHalls.css" />
  </head>
  <body>
    <button class="back-button" onclick="window.location.href='userDashboard.html'">
      Back
    </button>

    <header class="main-header">
      <div class="logo">
        <img src="images/option-21.svg" alt="CampusCrave" />
        <h1>Campus<span class="highlight">Crave</span></h1>
      </div>
    </header>

    <section class="intro-section">
      <h2>Reserve your meal!</h2>
      <p class="subheader">Available Dining Halls</p>
    </section>

    <div class="image-container" id="dining-halls-container">
      <!-- Images will be dynamically inserted here -->
    </div>

    <script>
      // Fetch dining halls data from the backend
      fetch('/dining-halls')
        .then(response => response.json())
        .then(data => {
          const container = document.getElementById('dining-halls-container');
          data.forEach(hall => {
            // Create a new image element for each dining hall
            const img = document.createElement('img');
            img.src = hall.image_url; // Use the image URL from the database
            img.alt = hall.name; // Dining hall name as alt text
            img.onclick = () => window.location.href = `${hall.name.replace(/\s/g, '')}DH.html`; // Navigate to respective dining hall page
            container.appendChild(img); // Append image to the container
          });
        })
        .catch(error => {
          console.error('Error fetching dining halls:', error);
        });
    </script>
  </body>
</html>
